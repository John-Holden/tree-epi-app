{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nvar _slicedToArray = require(\"/home/john/tree-epidemic-sim-front-end/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\n\nvar _classCallCheck = require(\"/home/john/tree-epidemic-sim-front-end/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\n\nvar _createClass = require(\"/home/john/tree-epidemic-sim-front-end/node_modules/@babel/runtime/helpers/createClass.js\").default;\n\nvar DelegatedModule = require(\"./DelegatedModule\"); // options.source\n// options.type\n// options.context\n// options.scope\n// options.content\n// options.associatedObjectForCache\n\n\nvar DelegatedModuleFactoryPlugin = /*#__PURE__*/function () {\n  function DelegatedModuleFactoryPlugin(options) {\n    _classCallCheck(this, DelegatedModuleFactoryPlugin);\n\n    this.options = options;\n    options.type = options.type || \"require\";\n    options.extensions = options.extensions || [\"\", \".js\", \".json\", \".wasm\"];\n  }\n\n  _createClass(DelegatedModuleFactoryPlugin, [{\n    key: \"apply\",\n    value: function apply(normalModuleFactory) {\n      var _this = this;\n\n      var scope = this.options.scope;\n\n      if (scope) {\n        normalModuleFactory.hooks.factorize.tapAsync(\"DelegatedModuleFactoryPlugin\", function (data, callback) {\n          var _data$dependencies = _slicedToArray(data.dependencies, 1),\n              dependency = _data$dependencies[0];\n\n          var request = dependency.request;\n\n          if (request && request.startsWith(\"\".concat(scope, \"/\"))) {\n            var innerRequest = \".\" + request.substr(scope.length);\n            var resolved;\n\n            if (innerRequest in _this.options.content) {\n              resolved = _this.options.content[innerRequest];\n              return callback(null, new DelegatedModule(_this.options.source, resolved, _this.options.type, innerRequest, request));\n            }\n\n            for (var i = 0; i < _this.options.extensions.length; i++) {\n              var extension = _this.options.extensions[i];\n              var requestPlusExt = innerRequest + extension;\n\n              if (requestPlusExt in _this.options.content) {\n                resolved = _this.options.content[requestPlusExt];\n                return callback(null, new DelegatedModule(_this.options.source, resolved, _this.options.type, requestPlusExt, request + extension));\n              }\n            }\n          }\n\n          return callback();\n        });\n      } else {\n        normalModuleFactory.hooks.module.tap(\"DelegatedModuleFactoryPlugin\", function (module) {\n          var request = module.libIdent(_this.options);\n\n          if (request) {\n            if (request in _this.options.content) {\n              var resolved = _this.options.content[request];\n              return new DelegatedModule(_this.options.source, resolved, _this.options.type, request, module);\n            }\n          }\n\n          return module;\n        });\n      }\n    }\n  }]);\n\n  return DelegatedModuleFactoryPlugin;\n}();\n\nmodule.exports = DelegatedModuleFactoryPlugin;","map":{"version":3,"sources":["/home/john/tree-epidemic-sim-front-end/node_modules/webpack/lib/DelegatedModuleFactoryPlugin.js"],"names":["DelegatedModule","require","DelegatedModuleFactoryPlugin","options","type","extensions","normalModuleFactory","scope","hooks","factorize","tapAsync","data","callback","dependencies","dependency","request","startsWith","innerRequest","substr","length","resolved","content","source","i","extension","requestPlusExt","module","tap","libIdent","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst DelegatedModule = require(\"./DelegatedModule\");\n\n// options.source\n// options.type\n// options.context\n// options.scope\n// options.content\n// options.associatedObjectForCache\nclass DelegatedModuleFactoryPlugin {\n\tconstructor(options) {\n\t\tthis.options = options;\n\t\toptions.type = options.type || \"require\";\n\t\toptions.extensions = options.extensions || [\"\", \".js\", \".json\", \".wasm\"];\n\t}\n\n\tapply(normalModuleFactory) {\n\t\tconst scope = this.options.scope;\n\t\tif (scope) {\n\t\t\tnormalModuleFactory.hooks.factorize.tapAsync(\n\t\t\t\t\"DelegatedModuleFactoryPlugin\",\n\t\t\t\t(data, callback) => {\n\t\t\t\t\tconst [dependency] = data.dependencies;\n\t\t\t\t\tconst { request } = dependency;\n\t\t\t\t\tif (request && request.startsWith(`${scope}/`)) {\n\t\t\t\t\t\tconst innerRequest = \".\" + request.substr(scope.length);\n\t\t\t\t\t\tlet resolved;\n\t\t\t\t\t\tif (innerRequest in this.options.content) {\n\t\t\t\t\t\t\tresolved = this.options.content[innerRequest];\n\t\t\t\t\t\t\treturn callback(\n\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\tnew DelegatedModule(\n\t\t\t\t\t\t\t\t\tthis.options.source,\n\t\t\t\t\t\t\t\t\tresolved,\n\t\t\t\t\t\t\t\t\tthis.options.type,\n\t\t\t\t\t\t\t\t\tinnerRequest,\n\t\t\t\t\t\t\t\t\trequest\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor (let i = 0; i < this.options.extensions.length; i++) {\n\t\t\t\t\t\t\tconst extension = this.options.extensions[i];\n\t\t\t\t\t\t\tconst requestPlusExt = innerRequest + extension;\n\t\t\t\t\t\t\tif (requestPlusExt in this.options.content) {\n\t\t\t\t\t\t\t\tresolved = this.options.content[requestPlusExt];\n\t\t\t\t\t\t\t\treturn callback(\n\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t\tnew DelegatedModule(\n\t\t\t\t\t\t\t\t\t\tthis.options.source,\n\t\t\t\t\t\t\t\t\t\tresolved,\n\t\t\t\t\t\t\t\t\t\tthis.options.type,\n\t\t\t\t\t\t\t\t\t\trequestPlusExt,\n\t\t\t\t\t\t\t\t\t\trequest + extension\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn callback();\n\t\t\t\t}\n\t\t\t);\n\t\t} else {\n\t\t\tnormalModuleFactory.hooks.module.tap(\n\t\t\t\t\"DelegatedModuleFactoryPlugin\",\n\t\t\t\tmodule => {\n\t\t\t\t\tconst request = module.libIdent(this.options);\n\t\t\t\t\tif (request) {\n\t\t\t\t\t\tif (request in this.options.content) {\n\t\t\t\t\t\t\tconst resolved = this.options.content[request];\n\t\t\t\t\t\t\treturn new DelegatedModule(\n\t\t\t\t\t\t\t\tthis.options.source,\n\t\t\t\t\t\t\t\tresolved,\n\t\t\t\t\t\t\t\tthis.options.type,\n\t\t\t\t\t\t\t\trequest,\n\t\t\t\t\t\t\t\tmodule\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn module;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t}\n}\nmodule.exports = DelegatedModuleFactoryPlugin;\n"]},"metadata":{},"sourceType":"script"}